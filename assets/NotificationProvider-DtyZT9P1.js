import{j as o}from"./jsx-runtime-DybDIJL1.js";import{r as t}from"./iframe-CvCZTrg7.js";import{r as N}from"./index-E-22a_Bq.js";import{u as y}from"./ThemeContext-CHb_KHx3.js";import{m as b,A as w}from"./proxy-Df5340CY.js";const T="_container_5pkld_1",j="_notification_5pkld_26",C="_exit_5pkld_48",q="_slideOut_5pkld_1",E="_icon_5pkld_63",V="_content_5pkld_76",P="_message_5pkld_81",$="_description_5pkld_87",I="_closeButton_5pkld_93",R="_success_5pkld_117",S="_error_5pkld_132",B="_warning_5pkld_147",O="_info_5pkld_162",n={container:T,"top-right":"_top-right_5pkld_6","top-left":"_top-left_5pkld_11","bottom-right":"_bottom-right_5pkld_16","bottom-left":"_bottom-left_5pkld_21",notification:j,exit:C,slideOut:q,icon:E,content:V,message:P,description:$,closeButton:I,success:R,error:S,warning:B,info:O},v=({type:r="info",message:m,description:c,duration:l=4500,onClose:a,className:p=""})=>{const{theme:u}=y(),[i,f]=t.useState(!0),[_,g]=t.useState(!1);t.useEffect(()=>{const e=setTimeout(()=>{d()},l);return()=>clearTimeout(e)},[l]);const d=()=>{g(!0),setTimeout(()=>{f(!1),a==null||a()},300)},h=()=>{switch(r){case"success":return"✓";case"error":return"✕";case"warning":return"⚠";default:return"ℹ"}};return i?o.jsxs(b.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,x:100},transition:{duration:.3},className:`${n.notification} ${n[r]} ${p} ${_?n.exit:""}`,"data-theme":u,children:[o.jsx("div",{className:n.icon,children:h()}),o.jsxs("div",{className:n.content,children:[o.jsx("div",{className:n.message,children:m}),c&&o.jsx("div",{className:n.description,children:c})]}),o.jsx("button",{className:n.closeButton,onClick:d,children:"×"})]}):null};v.__docgenInfo={description:"",methods:[],displayName:"Notification",props:{type:{required:!1,tsType:{name:"union",raw:'"success" | "error" | "info" | "warning"',elements:[{name:"literal",value:'"success"'},{name:"literal",value:'"error"'},{name:"literal",value:'"info"'},{name:"literal",value:'"warning"'}]},description:"",defaultValue:{value:'"info"',computed:!1}},message:{required:!0,tsType:{name:"string"},description:""},description:{required:!1,tsType:{name:"string"},description:""},duration:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"4500",computed:!1}},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}}}};const k=t.createContext(null),A=({children:r,position:m="top-right",maxCount:c=5})=>{const[l,a]=t.useState([]),[p,u]=t.useState(!1);t.useEffect(()=>(u(!0),()=>u(!1)),[]);const i=t.useCallback(e=>{const s=Math.random().toString(36).substr(2,9);return a(x=>[...x,{...e,id:s}]),s},[]),f=t.useCallback(e=>{a(s=>s.filter(x=>x.id!==e))},[]),_=t.useCallback((e,s)=>i({type:"success",message:e,description:s}),[i]),g=t.useCallback((e,s)=>i({type:"error",message:e,description:s}),[i]),d=t.useCallback((e,s)=>i({type:"info",message:e,description:s}),[i]),h=t.useCallback((e,s)=>i({type:"warning",message:e,description:s}),[i]);return o.jsxs(k.Provider,{value:{success:_,error:g,info:d,warning:h},children:[r,p&&N.createPortal(o.jsx("div",{className:`${n.container} ${n[m]}`,children:o.jsx(w,{children:l.slice(0,c).map(e=>o.jsx(v,{...e,onClose:()=>f(e.id)},e.id))})}),document.body)]})},H=()=>{const r=t.useContext(k);if(!r)throw new Error("useNotification must be used within a NotificationProvider");return r};A.__docgenInfo={description:"",methods:[],displayName:"NotificationProvider",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},position:{required:!1,tsType:{name:"union",raw:'"top-right" | "top-left" | "bottom-right" | "bottom-left"',elements:[{name:"literal",value:'"top-right"'},{name:"literal",value:'"top-left"'},{name:"literal",value:'"bottom-right"'},{name:"literal",value:'"bottom-left"'}]},description:"",defaultValue:{value:'"top-right"',computed:!1}},maxCount:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"5",computed:!1}}}};export{A as N,H as u};
