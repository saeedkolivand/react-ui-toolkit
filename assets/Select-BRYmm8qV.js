import{j as a}from"./jsx-runtime-Bl_-tK0b.js";import{R as t}from"./iframe-rPefs_Tk.js";import{r as $}from"./index-DXk5olUk.js";import{t as x}from"./tw-merge-Ds6tgvmq.js";import{A as C,m as u}from"./proxy-B5nbZ2E4.js";function T({value:l,children:m,disabled:r=!1,className:p,...o}){const d="transition-colors duration-200 ease-in-out",n={default:"text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700",disabled:"text-gray-400 dark:text-gray-500 cursor-not-allowed bg-gray-50 dark:bg-gray-800"},i=x(d,r?n.disabled:n.default,p);return a.jsx("option",{value:l,disabled:r,className:i,...o,children:m})}T.__docgenInfo={description:"",methods:[],displayName:"Option",props:{value:{required:!0,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""}}};function H({value:l,onChange:m,options:r,size:p="md",error:o=!1,errorMessage:d,label:n,disabled:i=!1,className:v,children:M,placeholder:q="Select an option",name:N,required:j,...y}){const[_,w]=t.useState(!1),[s,b]=t.useState(!1),c=t.useRef(null),[g,R]=t.useState({top:0,left:0,width:0}),S="block w-full rounded-md border transition-all duration-200 ease-in-out appearance-none outline-none bg-white dark:bg-gray-800 cursor-pointer disabled:cursor-not-allowed disabled:opacity-50 disabled:bg-gray-100 dark:disabled:bg-gray-700",E={sm:"text-sm px-2 py-1.5",md:"text-base px-3 py-2",lg:"text-lg px-4 py-3"},k={default:"border-gray-300 hover:border-gray-400 focus:border-primary-500 focus:ring-0 dark:border-gray-600 dark:hover:border-gray-500",error:"border-red-500 hover:border-red-600 focus:border-red-500 focus:ring-0 dark:border-red-400 dark:hover:border-red-300"},O=x(S,E[p],o?k.error:k.default,"pr-10",v);t.useEffect(()=>{const e=h=>{c.current&&!c.current.contains(h.target)&&b(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),t.useEffect(()=>{if(s&&c.current){const e=c.current.getBoundingClientRect();R({top:e.bottom+window.scrollY+4,left:e.left+window.scrollX,width:e.width})}},[s]);const f=r==null?void 0:r.find(e=>e.value===l),L=a.jsx(C,{children:s&&!i&&a.jsx(u.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"fixed z-50 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",style:{top:g.top,left:g.left,width:g.width,maxHeight:"200px",overflowY:"auto"},role:"listbox","aria-label":"Select options",children:r==null?void 0:r.map((e,h)=>a.jsx(u.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2,delay:h*.05},className:`px-4 py-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 ${e.value===l?"bg-gray-100 dark:bg-gray-700":""} ${e.disabled?"opacity-50 cursor-not-allowed":""}`,onClick:()=>{e.disabled||(m({target:{value:e.value}}),b(!1))},role:"option","aria-selected":e.value===l,"aria-disabled":e.disabled,children:e.label},e.value))})}),F=t.useCallback(e=>{i||b(!s)},[i,s]),B=t.useCallback(e=>{w(!0)},[]),I=t.useCallback(e=>{w(!1)},[]),{onClick:z,onFocus:A,onBlur:D,...P}=y;x("block w-full rounded-md border transition-all duration-200 ease-in-out appearance-none outline-none","bg-white dark:bg-gray-800","cursor-pointer disabled:cursor-not-allowed disabled:opacity-50 disabled:bg-gray-100 dark:disabled:bg-gray-700","text-base px-3 py-2","border-gray-300 hover:border-gray-400 focus:border-primary-500 focus:ring-0","dark:border-gray-600 dark:hover:border-gray-500","pr-10",v);const V=n||"Select an option";return a.jsxs("div",{className:"relative",ref:c,children:[n&&a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:n}),a.jsxs("div",{className:"relative",children:[a.jsx(u.div,{whileFocus:{scale:1.01},className:"relative",children:a.jsx("input",{type:"text",readOnly:!0,className:O,onClick:F,onFocus:B,onBlur:I,tabIndex:0,role:"combobox","aria-expanded":s,"aria-haspopup":"listbox","aria-controls":"select-options","aria-label":V,disabled:i,"aria-invalid":o?"true":"false","aria-describedby":o&&d?`${y.id}-error`:void 0,value:(f==null?void 0:f.label)||q,name:N,required:j,...P})}),a.jsx(u.div,{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500",animate:{rotate:s?180:0},transition:{duration:.2},"aria-hidden":"true",children:a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",children:a.jsx("path",{d:"M7 7l3 3 3-3",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),$.createPortal(L,document.body),a.jsx(C,{children:o&&d&&a.jsx(u.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"mt-1 text-sm text-red-600 dark:text-red-400",role:"alert",id:`${y.id}-error`,children:d})})]})}const K=T;H.__docgenInfo={description:"",methods:[],displayName:"Select",props:{value:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(e: React.ChangeEvent<HTMLSelectElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLSelectElement>",elements:[{name:"HTMLSelectElement"}]},name:"e"}],return:{name:"void"}}},description:""},options:{required:!1,tsType:{name:"Array",elements:[{name:"SelectOption"}],raw:"SelectOption[]"},description:""},size:{required:!1,tsType:{name:"union",raw:'"sm" | "md" | "lg"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'}]},description:"",defaultValue:{value:'"md"',computed:!1}},error:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},errorMessage:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Select an option"',computed:!1}},name:{required:!1,tsType:{name:"string"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""}},composes:["Omit"]};export{K as O,H as S};
